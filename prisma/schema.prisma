datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

generator client {
  provider = "prisma-client-js"
}

model Thread {
  id              String   @id
  threadPostTitle String
  author          String
  messages        Message[]

  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}

model Message {
  id        String   @id
  author    String
  userID    String
  content   String
  emojis    Emoji[]
  images    Image[]
  timestamp Int
  thread    Thread   @relation(fields: [threadId], references: [id])
  threadId  String

  @@index([threadId])
}

model Emoji {
  id         String   @id
  animated   Boolean?
  name       String
  reaction   String
  identifier String
  message    Message   @relation(fields: [messageId], references: [id])
  messageId  String

  @@index([messageId])
}

model Image {
  id      String   @id
  url     String
  message Message? @relation(fields: [messageId], references: [id])
  messageId String?

  @@index([messageId])
  }